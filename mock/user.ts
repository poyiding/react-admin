import { Request, Response } from 'express';

const waitTime = (time: number = 100) => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(true);
    }, time);
  });
};

export default {
  // GET POST 可省略
  'GET /api/users': [
    {
      key: '1',
      name: 'John Brown',
      age: 32,
      address: 'New York No. 1 Lake Park',
    },
    {
      key: '2',
      name: 'Jim Green',
      age: 42,
      address: 'London No. 1 Lake Park',
    },
    {
      key: '3',
      name: 'Joe Black',
      age: 32,
      address: 'Sidney No. 1 Lake Park',
    },
  ],
  'POST /absplat/user/login.json': async (req: Request, res: Response) => {
    const { password, account, type } = req.body;
    await waitTime(1000);
    if (account === 'admin' && password === '888888') {
      res.json({
        success: true,
        type,
        message: '登录成功',
      });

      return;
    }
    res.send({
      success: false,
      errorMessage: '用户名或密码不正确',
    });
  },
  'GET /absplat/login/outLogin': (req: Request, res: Response) => {
    res.send({ message: '退出成功', success: true });
  },
  'POST /api/register': (req: Request, res: Response) => {
    res.send({ status: 'ok', currentAuthority: 'user', success: true });
  },
  'GET /absplat/system/user/info.json': (req: Request, res: Response) => {
    res.send({
      accountDay: '20211011',
      dataObject: {
        account: 'admin',
        authFunctionList: [
          'plan_monitor_edit',
          'role_detail',
          'mgr_data',
          'product_detail',
          'analyse',
          'plan_ast',
          'org_client_edit',
          'analyse_amt',
          'mgr',
          'plan',
          'report_download',
          'work_order',
          'planOverview',
          'spv_ast_info',
          'dataDistribut',
          'product_edit',
          'planGroup',
          'plan_edit',
          'system',
          'role_edit',
          'handlePayment',
          'spv_ast_list',
          'entity_alloc_add',
          'dataTemp',
          'plan_alloc_add',
          'job_extend',
          'plan_assigned_detail',
          'org_entity_sel',
          'role',
          'dict_list_detail',
          'product_add',
          'org_extend',
          'mgr_disable',
          'batch_alloc',
          'plan_alloc_del',
          'plan_ast_detail',
          'analyse_ast',
          'transFlow',
          'mgr_del',
          'plan_monitor_del',
          'plan_assigned_save',
          'product',
          'org_entity',
          'dept_del',
          'batch_alloc_config',
          'screen_add',
          'dept',
          'dept_edit',
          'AMC_ast',
          'role_add',
          'dict_add',
          'plan_alloc',
          'operation',
          'paymentFlow',
          'transaction',
          'plan_report',
          'screen_detail',
          'entity_assigned_save',
          'dict_edit',
          'screen',
          'mgr_enable',
          'transferStrategy',
          'plan_assigned_add',
          'dict_disable',
          'dict',
          'entity_alloc_edit',
          'screen_edit',
          'product_admit',
          'entity_assigned_detail',
          'plan_assigned_pay',
          'analyse_plan',
          'sendRecord',
          'plan_extend',
          'entity_alloc_del',
          'mgr_edit',
          'dataSendConfig',
          'dept_detail',
          'gather',
          'my',
          'entity_assigned_pay',
          'entity_assigned_add',
          'plan_detail',
          'plan_page',
          'mgr_detail',
          'auto_plan',
          'plan_price_sel',
          'mgr_reset',
          'offline_check_list',
          'dataSync',
          'mgr_add',
          'offline_pay_list',
          'spv_ast',
          'buyback',
          'accountEvent',
          'duration',
          'online_check_list',
          'dict_enable',
          'AMC_plan_add',
          'dept_add',
          'accountInfo',
          'dict_del',
          'AMC_plan',
          'org_entity_edit',
          'entity_report',
          'role_del',
          'apply',
          'stage_drawamt',
          'plan_monitor_add',
          'org_client',
          'entity_alloc',
          'plan_alloc_edit',
          'acct_extend',
          'plan_add',
          'frozen_rule',
          'org_client_detail',
          'org_entity_add',
          'org_client_add',
          'sendRule',
        ],

        authMenus: [
          'analyse',
          'screen',
          'plan_ast',
          'transferStrategy',
          'mgr',
          'dict',
          'plan',
          'report_download',
          'product_admit',
          'work_order',
          'planOverview',
          'plan_extend',
          'dataDistribut',
          'planGroup',
          'gather',
          'my',
          'system',
          'plan_page',
          'handlePayment',
          'job_extend',
          'offline_check_list',
          'role',
          'dataSync',
          'offline_pay_list',
          'spv_ast',
          'buyback',
          'duration',
          'online_check_list',
          'batch_alloc',
          'transFlow',
          'AMC_plan',
          'product',
          'entity_report',
          'apply',
          'org_entity',
          'stage_drawamt',
          'batch_alloc_config',
          'org_client',
          'dept',
          'acct_extend',
          'frozen_rule',
          'operation',
          'paymentFlow',
          'transaction',
          'plan_report',
        ],

        description: '超级管理员',

        roleCodes: [
          'administrator',
          '84DCF2E8-436D-4434-B19E-B8C574E1B85B',
          '7D752355-DAE6-430D-B0CF-5E0A77D59CD5',
        ],
        roleName: '系统管理员,运营经理,管理经理',
        userCode: 'administrator',
        userName: '超级用户',
      },
      needRetry: false,
      success: true,
      transTime: '2021-10-11 16:00:58',
    });
  },
};
